# QA-–ß–ï–ö–õ–ò–°–¢ –ò –¶–ï–õ–ï–í–´–ï –ú–ï–¢–†–ò–ö–ò –ê–ö–¢–ê I

**–í–µ—Ä—Å–∏—è:** 2.0
**–î–∞—Ç–∞:** 17 —è–Ω–≤–∞—Ä—è 2026
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω—ã–π

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞:**
- üìñ [GAME_DESIGN_DOCUMENT.md](./GAME_DESIGN_DOCUMENT.md) - –∏–≥—Ä–æ–≤–æ–π –¥–∏–∑–∞–π–Ω
- ‚öôÔ∏è [ENGINE_ARCHITECTURE.md](./ENGINE_ARCHITECTURE.md) - **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–≤–∏–∂–∫–∞ (source of truth)**
- üîß [TECHNICAL_DOCUMENTATION.md](./TECHNICAL_DOCUMENTATION.md) - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ [QA_ACT_I_CHECKLIST.md](./QA_ACT_I_CHECKLIST.md) - —ç—Ç–æ—Ç —Ñ–∞–π–ª (QA-–∫–æ–Ω—Ç—Ä–∞–∫—Ç)

> –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Ü–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ê–∫—Ç–∞ I.
> –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∏–∑–∞–π–Ω–∞.

---

## –ß–ê–°–¢–¨ 1: –¶–ï–õ–ï–í–´–ï –ú–ï–¢–†–ò–ö–ò (DESIGN TARGETS)

> –≠—Ç–æ –Ω–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –∞ —Ä–∞–º–∫–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è.
> –ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –º–∞—Å—Å–æ–≤–æ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –Ω–∏—Ö ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –≤ –¥–∏–∑–∞–π–Ω–µ.

### 1.1 –í—Ä–µ–º—è –∏ –¥–∞–≤–ª–µ–Ω–∏–µ

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª—å | Red Flag (–Ω–∏–∑–∫–æ) | Red Flag (–≤—ã—Å–æ–∫–æ) |
|---------|------|------------------|-------------------|
| –î–Ω–µ–π –∫ —Ñ–∏–Ω–∞–ª—É –ê–∫—Ç–∞ I | 15‚Äì25 | <15 (—Å–ª–∏—à–∫–æ–º –ª–µ–≥–∫–æ) | >25 (–∑–∞—Å—Ç—Ä–µ–≤–∞–Ω–∏–µ) |
| WorldTension –≤ —Ñ–∏–Ω–∞–ª–µ | 40‚Äì60% | <30% (–Ω–µ—Ç –¥–∞–≤–ª–µ–Ω–∏—è) | >70% (—Å–ª–∏—à–∫–æ–º –∂—ë—Å—Ç–∫–æ) |
| –î–æ–ø—É—Å—Ç–∏–º—ã–π –ø–∏–∫ Tension | –¥–æ 70% | - | >80% (–ª–æ–º–∞–µ—Ç –∏–≥—Ä—É) |

### 1.2 –ö–∞—Ä—Ç–∞ –∏ —Ä–µ–≥–∏–æ–Ω—ã

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –¶–µ–ª—å | Red Flag |
|------------|------|----------|
| Stable —Ä–µ–≥–∏–æ–Ω–æ–≤ –≤ —Ñ–∏–Ω–∞–ª–µ | 3‚Äì4 | –í—Å—ë Stable = —Ä–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç |
| Borderland —Ä–µ–≥–∏–æ–Ω–æ–≤ | 2‚Äì3 | - |
| Breach —Ä–µ–≥–∏–æ–Ω–æ–≤ | 0‚Äì2 | –í—Å—ë Breach = –Ω–µ–≥–¥–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è |

### 1.3 –ö–æ–ª–æ–¥–∞

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –¶–µ–ª—å | Red Flag |
|------------|------|----------|
| –†–∞–∑–º–µ—Ä –∫–æ–ª–æ–¥—ã | 20‚Äì25 –∫–∞—Ä—Ç | <15 –∏–ª–∏ >30 |
| Sustain + Control | ‚â•30% | <20% = –Ω–µ—á–µ–º –ª–µ—á–∏—Ç—å—Å—è |
| Power (Dark-–ø—É—Ç—å) | –¥–æ 40‚Äì45% | >50% = –¥–∏—Å–±–∞–ª–∞–Ω—Å |
| Curse –∫–∞—Ä—Ç | 1‚Äì4 | 0 = Dark –Ω–µ –æ—â—É—â–∞–µ—Ç—Å—è, >5 = –∏–≥—Ä–∞ –ª–æ–º–∞–µ—Ç—Å—è |

### 1.4 –ö–≤–µ—Å—Ç—ã –∏ –∫–æ–Ω—Ç–µ–Ω—Ç

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –¶–µ–ª—å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------------|------|-------------|
| –ü–æ–±–æ—á–Ω—ã–µ –∫–≤–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã | 2‚Äì4 | –ò–≥—Ä–æ–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω —É—Å–ø–µ–≤–∞—Ç—å –≤—Å—ë |
| –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∫–≤–µ—Å—Ç—ã | 1‚Äì3 | –≠—Ç–æ –Ω–æ—Ä–º–∞, –Ω–µ –±–∞–≥ |
| –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è —É–≤–∏–¥–µ–Ω—ã | 8‚Äì12 | –ò–∑ 15+ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö |

### 1.5 –ò—Å—Ö–æ–¥—ã –∏ –ø–æ—Ä–∞–∂–µ–Ω–∏—è

| –¢–∏–ø | –û–∂–∏–¥–∞–µ–º–æ—Å—Ç—å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----|-------------|-------------|
| –°–º–µ—Ä—Ç—å –≤ –±–æ—é | –≤–æ–∑–º–æ–∂–Ω–∞ | 0‚Äì2 —Ä–∞–∑–∞ –∑–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ ‚Äî –¥–æ–ø—É—Å—Ç–∏–º—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω |
| –ü–æ—Ä–∞–∂–µ–Ω–∏–µ –ø–æ Tension (100%) | —Ä–µ–¥–∫–æ | –¢–æ–ª—å–∫–æ –ø—Ä–∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏ –º–∏—Ä–∞ |
| Soft-fail (–º–∏—Ä —É—Ö—É–¥—à–∏–ª—Å—è) | —á–∞—Å—Ç–æ | Regions ‚Üí Breach = –º–æ—Ç–∏–≤–∞—Ü–∏—è |
| –ü–æ–±–µ–¥–∞ —Å –≤—ã—Å–æ–∫–∏–º Tension | –Ω–æ—Ä–º–∞ | 50-70% = –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω—ã–π —Ñ–∏–Ω–∞–ª |

---

## –ß–ê–°–¢–¨ 2: QA-–ß–ï–ö–õ–ò–°–¢

### I. –°—Ç–∞—Ä—Ç –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

#### TEST-001: –ù–æ–≤—ã–π —Å—Ç–∞—Ä—Ç
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Critical
**–¢–∏–ø:** Unit + UI
**–§–∞–π–ª:** `WorldStateTests.swift`

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- [x] WorldTension = 30%
- [x] Player.balance = 50
- [x] daysPassed = 0
- [x] currentRegionId = –î–µ—Ä–µ–≤–Ω—è —É —Ç—Ä–∞–∫—Ç–∞
- [x] –ì–ª–∞–≤–Ω—ã–π –∫–≤–µ—Å—Ç "–ü—É—Ç—å –ó–∞—â–∏—Ç–Ω–∏–∫–∞" –∞–∫—Ç–∏–≤–µ–Ω
- [x] –í—Å–µ 7 —Ä–µ–≥–∏–æ–Ω–æ–≤ –≤–∏–¥–Ω—ã –Ω–∞ –∫–∞—Ä—Ç–µ

**Fail —É—Å–ª–æ–≤–∏—è:**
- –õ—é–±–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä ‚â† –∫–∞–Ω–æ–Ω—É
- –ö–∞—Ä—Ç–∞ —Å–∫—Ä—ã—Ç–∞ –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ –æ—Ç–∫—Ä—ã—Ç–∞

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testInitialWorldTension()`
- `testInitialBalance()`
- `testInitialDaysPassed()`
- `testInitialRegionsCount()`
- `testInitialRegionStates()`
- `testStartingRegion()`

---

### II. –í—Ä–µ–º—è –∫–∞–∫ —Ä–µ—Å—É—Ä—Å

#### TEST-002: –°—Ç–æ–∏–º–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Critical
**–¢–∏–ø:** Unit
**–§–∞–π–ª:** `WorldStateTests.swift`
**Engine Contract:** `EngineContractsTests.testTimeAdvancesOnlyViaTimeEngine()`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
| –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å |
|----------|---------------------|
| Travel (—Å–æ—Å–µ–¥) | +1 –¥–µ–Ω—å |
| Travel (–¥–∞–ª—å–Ω–∏–π) | +2 –¥–Ω—è |
| Rest | +1 –¥–µ–Ω—å |
| Strengthen Anchor | +1 –¥–µ–Ω—å |
| Explore (–æ–±—ã—á–Ω–æ–µ) | +1 –¥–µ–Ω—å |
| Explore (instant: true) | 0 –¥–Ω–µ–π |

**Fail:** –õ—é–±–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ —Ç—Ä–∞—Ç–∏—Ç –≤—Ä–µ–º—è –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testTravelToNeighborCostsOneDay()`
- `testTravelToDistantCostsTwoDays()`
- `testCalculateTravelCost()`

---

#### TEST-003: –ê–≤—Ç–æ-–¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è –º–∏—Ä–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Critical
**–¢–∏–ø:** Unit + Integration
**–§–∞–π–ª:** `WorldStateTests.swift`
**Engine Contract:** `EngineContractsTests.testWorldTickTriggeredByTimeThresholds()`

**–®–∞–≥–∏:**
1. –ü—Ä–æ–≤–µ—Å—Ç–∏ 9 –¥–Ω–µ–π (–ª—é–±—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ 3, 6, 9 –¥–µ–Ω—å

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- [x] –î–µ–Ω—å 3: WorldTension += 2
- [x] –î–µ–Ω—å 6: WorldTension += 2
- [x] –î–µ–Ω—å 9: WorldTension += 2
- [x] –ü—Ä–∏ –≤—ã—Å–æ–∫–æ–º Tension: –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ —Ä–µ–≥–∏–æ–Ω–∞
- [x] Stable —Ä–µ–≥–∏–æ–Ω—ã –ù–ï –¥–µ–≥—Ä–∞–¥–∏—Ä—É—é—Ç –Ω–∞–ø—Ä—è–º—É—é
- [x] –¢–æ–ª—å–∫–æ Borderland (–≤–µ—Å 1) –∏ Breach (–≤–µ—Å 2) –¥–µ–≥—Ä–∞–¥–∏—Ä—É—é—Ç

**Fail:** –ú–æ–∂–Ω–æ "—Å—Ç–æ—è—Ç—å –Ω–∞ –º–µ—Å—Ç–µ" –±–µ–∑ —Ä–æ—Å—Ç–∞ –¥–∞–≤–ª–µ–Ω–∏—è

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testProcessDayStartIncreasesTensionEvery3Days()`
- `testBorderlandAndBreachCanDegrade()`
- `testStableRegionsDoNotDegradeDirectly()`

---

### III. –†–µ–≥–∏–æ–Ω—ã –∏ —Ä–∏—Å–∫

#### TEST-004: –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å —Ä–∏—Å–∫–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** High
**–¢–∏–ø:** Unit (Model)
**–§–∞–π–ª:** `WorldMapModelTests.swift`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞:**
- [x] –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∏–¥–Ω–æ (üü¢/üü°/üî¥)
- [x] –í Borderland/Breach –ø–æ–∫–∞–∑–∞–Ω—ã –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –±–æ—è
- [x] –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–∞

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testRegionStateIndicators()`
- `testCombatModifiersDisplay()`
- `testAvailableActionsDisplay()`

---

#### TEST-005: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π –ø–æ –ª–æ–∫–∞—Ü–∏–∏
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Critical
**–¢–∏–ø:** Unit (Model)
**–§–∞–π–ª:** `RegionActionsModelTests.swift`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [x] Travel ‚Äî —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ –ù–ï –≤ —Ä–µ–≥–∏–æ–Ω–µ
- [x] Rest/Trade/Explore/Strengthen ‚Äî —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ –í —Ä–µ–≥–∏–æ–Ω–µ
- [x] Trade –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ Borderland/Breach (canTrade = false)
- [x] Rest –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ Borderland/Breach (canRest = false)

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testTravelOnlyFromDifferentRegion()`
- `testRestRequiresStableRegion()`
- `testTradeRequiresStableRegion()`
- `testExploreAvailableInCurrentRegion()`

---

#### TEST-006: –ü—Ä–æ–≥—Ä–µ—Å—Å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ä–∏—Å–∫
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** High
**–¢–∏–ø:** Integration
**–§–∞–π–ª:** `ActIPlaythroughTests.swift`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [x] –ì–ª–∞–≤–Ω—ã–π –∫–≤–µ—Å—Ç –Ω–µ–ª—å–∑—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—å, –æ—Å—Ç–∞–≤–∞—è—Å—å –≤ Stable
- [x] –ö–ª—é—á–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è —Ç–æ–ª—å–∫–æ –≤ Borderland/Breach
- [x] Stable –¥–∞—ë—Ç Sustain/Control –∫–∞—Ä—Ç—ã, –Ω–æ –Ω–µ –∫–≤–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å

**Fail:** –û—Å–Ω–æ–≤–Ω–æ–π –∫–≤–µ—Å—Ç –º–æ–∂–Ω–æ –ø—Ä–æ–π—Ç–∏, –Ω–µ –≤—ã—Ö–æ–¥—è –∏–∑ Stable

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testMainQuestRequiresRiskyRegions()`
- `testKeyEventsOnlyInUnstableRegions()`
- `testStableRegionsGiveSupportCards()`

---

### IV. –°–æ–±—ã—Ç–∏—è –∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è

#### TEST-007: –í—ã–±–æ—Ä —Å–æ–±—ã—Ç–∏–π
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Critical
**–¢–∏–ø:** Unit + UI
**–§–∞–π–ª:** `EventSystemTests.swift`
**Engine Contract:** `EventModuleContractsTests.testEventSelectionDeterministicWithSeed()`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [x] –°–æ–±—ã—Ç–∏—è —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ regionState
- [x] –°–æ–±—ã—Ç–∏—è —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ worldTension (min/max)
- [x] –°–æ–±—ã—Ç–∏—è —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ —Ñ–ª–∞–≥–∞–º (required/forbidden)
- [x] –í–∑–≤–µ—à–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç (weight)
- [x] –ù–µ—Ç –ø—É—Å—Ç—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤ "–ù–µ—Ç —Å–æ–±—ã—Ç–∏–π"
- [x] OneTime —Å–æ–±—ã—Ç–∏—è –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testEventFilterByRegionState()`
- `testEventFilterByRegionType()`
- `testEventFilterByTensionMin()`
- `testEventFilterByTensionMax()`
- `testEventFilterByRequiredFlags()`
- `testEventFilterByForbiddenFlags()`
- `testOneTimeEventNotRepeated()`
- `testWeightedEventSelection()`

---

#### TEST-008: –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –≤—ã–±–æ—Ä–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Critical
**–¢–∏–ø:** Unit
**–§–∞–π–ª:** `EventSystemTests.swift`
**Engine Contract:** `EventModuleContractsTests.testChoiceRequirementsGateSelection()`

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [x] –ö–∞–∂–¥—ã–π –≤—ã–±–æ—Ä –º–µ–Ω—è–µ—Ç —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä
- [x] –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É (—Ä–µ—Å—É—Ä—Å—ã) –∏–ª–∏ —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥
- [x] –ù–µ—Ç "–±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö" –≤—ã–±–æ—Ä–æ–≤ –±–µ–∑ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π

**Fail:** –í—ã–±–æ—Ä –Ω–∏ –Ω–∞ —á—Ç–æ –Ω–µ –≤–ª–∏—è–µ—Ç

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testConsequencesFaithChange()`
- `testConsequencesHealthChange()`
- `testConsequencesBalanceChange()`
- `testConsequencesTensionChange()`
- `testConsequencesSetFlags()`
- `testConsequencesAnchorIntegrity()`
- `testChoiceRequirementsFaith()`
- `testChoiceRequirementsHealth()`
- `testChoiceRequirementsBalance()`
- `testChoiceRequirementsFlags()`

---

### V. –ö–≤–µ—Å—Ç—ã –ê–∫—Ç–∞ I

#### TEST-009: –ì–ª–∞–≤–Ω—ã–π –∫–≤–µ—Å—Ç "–ü—É—Ç—å –ó–∞—â–∏—Ç–Ω–∏–∫–∞"
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Critical
**–¢–∏–ø:** Integration
**–§–∞–π–ª:** `QuestSystemTests.swift`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–∞–ø—ã:**
1. [x] –°—Ç–∞—Ä—Ç—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –î–µ—Ä–µ–≤–Ω–µ —É —Ç—Ä–∞–∫—Ç–∞
2. [x] –≠—Ç–∞–ø 1: –ü–æ–ª—É—á–∏—Ç—å —Ñ–ª–∞–≥ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–≥—Ä–∞–Ω–∏—á–Ω–æ–≥–æ –∏—Å–∫–∞–∂–µ–Ω–∏—è (–ª—é–±–æ–π Borderland)
3. [x] –≠—Ç–∞–ø 2: –ü–æ–ª—É—á–∏—Ç—å —Ñ–ª–∞–≥ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —É–≥—Ä–æ–∑—ã (—á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏–µ –≤ Borderland/Breach)
4. [x] –≠—Ç–∞–ø 3: –ü–æ–ª—É—á–∏—Ç—å —Ñ–ª–∞–≥ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Ä–∞–∑–ª–æ–º–∞ (–ª—é–±–æ–π —Ä–µ–≥–∏–æ–Ω —Å Breach)
5. [x] –≠—Ç–∞–ø 4: –ü–æ–ª—É—á–∏—Ç—å —Ñ–ª–∞–≥ –ø—É—Ç–∏ –∫ –±–æ—Å—Å—É (—á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è/—É—Å–ª–æ–≤–∏—è)
6. [x] –≠—Ç–∞–ø 5: –ü–æ–±–µ–¥–∏—Ç—å –±–æ—Å—Å–∞ (—Ñ–ª–∞–≥ act5_completed)

**Fail —É—Å–ª–æ–≤–∏—è:**
- –ö–≤–µ—Å—Ç –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∏–ª–∏ —Å–ª–æ–º–∞—Ç—å
- –û—Å–Ω–æ–≤–Ω–æ–π –∫–≤–µ—Å—Ç –ø—Ä–æ–¥–≤–∏–≥–∞–µ—Ç—Å—è –±–µ–∑ –ø–æ—Å–µ—â–µ–Ω–∏—è Borderland –∏–ª–∏ Breach (–Ω–∞—Ä—É—à–µ–Ω–∏–µ Pillar 3)

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testMainQuestActiveAtStart()`
- `testMainQuestTitle()`
- `testMainQuestInitialStage()`
- `testMainQuestHasObjectives()`

---

#### TEST-010: –ü–æ–±–æ—á–Ω—ã–µ –∫–≤–µ—Å—Ç—ã
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** High
**–¢–∏–ø:** Integration
**–§–∞–π–ª:** `QuestSystemTests.swift`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [x] –ú–∏–Ω–∏–º—É–º 2 –ø–æ–±–æ—á–Ω—ã—Ö –∫–≤–µ—Å—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–æ —Ñ–∏–Ω–∞–ª–∞
- [x] –ü–æ–±–æ—á–Ω—ã–µ –∫–≤–µ—Å—Ç—ã –≤–ª–∏—è—é—Ç –Ω–∞:
  - [x] –ú–∏—Ä (—Ä–µ–≥–∏–æ–Ω—ã, —è–∫–æ—Ä—è)
  - [x] –ë–∞–ª–∞–Ω—Å Light/Dark
  - [x] –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Ñ–ª–∞–≥–∏
- [x] –ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–æ–±–æ—á–Ω—ã–µ –∫–≤–µ—Å—Ç—ã (–Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –∏–≥—Ä—É)

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testSideQuestsAvailable()`
- `testSideQuestsAffectWorld()`
- `testSideQuestsOptional()`

---

### VI. –ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

#### TEST-011: –í—Ö–æ–¥ –≤ –±–æ–π
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Critical
**–¢–∏–ø:** Unit + UI
**–§–∞–π–ª:** `CombatSystemTests.swift`, `CombatModifiersTests.swift`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [x] –ë–æ–π –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏–µ (Combat type)
- [x] –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è:
  - Borderland: +1 —Å–∏–ª–∞, +1 –∑–∞—â–∏—Ç–∞ –≤—Ä–∞–≥–∞
  - Breach: +2 —Å–∏–ª–∞, +2 –∑–∞—â–∏—Ç–∞ –≤—Ä–∞–≥–∞
- [x] –ü—Ä–æ–∫–ª—è—Ç–∏—è –∏–≥—Ä–æ–∫–∞ –≤–ª–∏—è—é—Ç –Ω–∞ –±–æ–π:
  - weakness: -1 —É—Ä–æ–Ω
  - fear: +1 –ø–æ–ª—É—á–∞–µ–º—ã–π —É—Ä–æ–Ω
  - exhaustion: -1 –¥–µ–π—Å—Ç–≤–∏–µ

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testCombatOnlyThroughEvents()`
- `testBorderlandModifiers()`
- `testBreachModifiers()`
- `testWeaknessCurseEffect()`
- `testFearCurseEffect()`
- `testExhaustionCurseEffect()`
- `testCombinedCurseEffects()`

---

#### TEST-012: –í—ã—Ö–æ–¥ –∏–∑ –±–æ—è
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Critical
**–¢–∏–ø:** Unit
**–§–∞–π–ª:** `CombatSystemTests.swift`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [x] –ü–æ–±–µ–¥–∞ ‚Üí –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–∞–≥—Ä–∞–¥—ã —Å–æ–±—ã—Ç–∏—è
- [x] –ü–æ–±–µ–¥–∞ ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –º–∏—Ä (—Ñ–ª–∞–≥–∏, —è–∫–æ—Ä—è)
- [x] –ü–æ–±–µ–¥–∞ ‚Üí bloodCurse –¥–∞—ë—Ç +2 HP –∏ —Å–¥–≤–∏–≥ –∫ Dark
- [x] –ü–æ—Ä–∞–∂–µ–Ω–∏–µ ‚Üí Game Over
- [x] –ë–æ–π –ù–ï —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è)

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testVictoryRewards()`
- `testVictoryUpdatesWorld()`
- `testBloodCurseHealing()`
- `testDefeatEndsGame()`
- `testNoCombatWithoutEvent()`

---

### VII. –ö–æ–ª–æ–¥–∞ –∏ —ç–∫–æ–Ω–æ–º–∏–∫–∞

#### TEST-013: –†–æ—Å—Ç –∫–æ–ª–æ–¥—ã
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** High
**–¢–∏–ø:** Integration
**–§–∞–π–ª:** `DeckBuildingTests.swift`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –ê–∫—Ç–∞ I:**
- [x] –ò–≥—Ä–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç 10‚Äì15 –Ω–æ–≤—ã—Ö –∫–∞—Ä—Ç
- [x] –ö–∞—Ä—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–≥–∏–æ–Ω—É (Stable=Sustain, Breach=Power)
- [x] –ö–æ–ª–æ–¥–∞ –æ—Ç—Ä–∞–∂–∞–µ—Ç –ø—É—Ç—å (Light/Dark/Neutral)

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testDeckGrowthDuringActI()`
- `testRegionAffectsCardRewards()`
- `testDeckReflectsPlayerPath()`
- `testDrawAndDiscardMechanics()`
- `testCardPurchaseWithFaith()`
- `testStarterDeckComposition()`

---

#### TEST-014: –ü—Ä–æ–∫–ª—è—Ç–∏—è
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** High
**–¢–∏–ø:** Unit
**–§–∞–π–ª:** `DeckBuildingTests.swift`, `PlayerTests.swift`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [x] –ü—Ä–æ–∫–ª—è—Ç–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] –ü—Ä–æ–∫–ª—è—Ç–∏—è —Å–Ω–∏–º–∞—é—Ç—Å—è –∑–∞ –≤–µ—Ä—É (removalCost)
- [x] sealOfNav –±–ª–æ–∫–∏—Ä—É–µ—Ç Sustain –∫–∞—Ä—Ç—ã
- [x] Dark-–ø—É—Ç—å —É—Å–∫–æ—Ä—è–µ—Ç –∏–≥—Ä—É, –Ω–æ —Ä–∞—Å—Ç–∏—Ç Tension
- [x] Dark-–ø—É—Ç—å –ù–ï –≤—Å–µ–≥–¥–∞ –ª—É—á—à–µ (–µ—Å—Ç—å trade-off)

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testCurseApplication()`
- `testCurseRemovalCost()`
- `testSealOfNavBlocksSustain()`
- `testDarkPathTradeoffs()`
- `testCurseStackingLimits()`

---

### VIII. –§–∏–Ω–∞–ª –ê–∫—Ç–∞ I

#### TEST-015: –§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Critical
**–¢–∏–ø:** Integration
**–§–∞–π–ª:** `ActIPlaythroughTests.swift`, `PlaythroughSimulationTests.swift`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [x] –ë–æ—Å—Å (–õ–µ—à–∏–π-–•—Ä–∞–Ω–∏—Ç–µ–ª—å) –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —à–∞–≥–æ–≤ –∫–≤–µ—Å—Ç–∞
- [x] –ß—ë—Ä–Ω–∞—è –ù–∏–∑–∏–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- [x] –ü–æ—Å–ª–µ –ø–æ–±–µ–¥—ã ‚Üí –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ê–∫—Ç–∞ I
- [x] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∏—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –ê–∫—Ç–∞ II

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testBossUnlocksAfterQuestProgress()`
- `testBlackHollowAccessible()`
- `testActICompletionAfterBoss()`
- `testWorldStatePersistsToActII()`

---

#### TEST-016: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Critical
**–¢–∏–ø:** Unit + UI
**–§–∞–π–ª:** `SaveLoadTests.swift`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [x] –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∫–ª—é—á–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- [x] –°–µ–π–≤ —Å–æ–¥–µ—Ä–∂–∏—Ç: –∫–æ–ª–æ–¥—É, –º–∏—Ä, —Ñ–ª–∞–≥–∏, –∫–≤–µ—Å—Ç—ã
- [x] –ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–æ—á–Ω–æ
- [x] eventLog —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:**
- `testAutoSaveAfterKeyActions()`
- `testSaveContainsAllData()`
- `testLoadRestoresExactState()`
- `testEventLogPersistence()`
- `testMultipleSaveSlots()`
- `testCorruptedSaveHandling()`

---

## –ß–ê–°–¢–¨ 3: –ü–û–õ–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –¢–ï–°–¢–û–í

### –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
CardSampleGameTests/
‚îú‚îÄ‚îÄ Unit/                               # 11 —Ñ–∞–π–ª–æ–≤, ~295 —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ WorldStateTests.swift           # –ú–∏—Ä, —Ä–µ–≥–∏–æ–Ω—ã, –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è, –≤—Ä–µ–º—è
‚îÇ   ‚îú‚îÄ‚îÄ PlayerTests.swift               # –ò–≥—Ä–æ–∫, —Ä–µ—Å—É—Ä—Å—ã, –ø—Ä–æ–∫–ª—è—Ç–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ EventSystemTests.swift          # –°–æ–±—ã—Ç–∏—è, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –≤–µ—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ QuestSystemTests.swift          # –ö–≤–µ—Å—Ç—ã, –ø—Ä–æ–≥—Ä–µ—Å—Å, —ç—Ç–∞–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ CombatModifiersTests.swift      # –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –±–æ—è, —Ä–µ–≥–∏–æ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ CombatSystemTests.swift         # –£—Ä–æ–Ω, –ø–æ–±–µ–¥–∞/–ø–æ—Ä–∞–∂–µ–Ω–∏–µ, –Ω–∞–≥—Ä–∞–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ DeckBuildingTests.swift         # Draw/discard, –ø–æ–∫—É–ø–∫–∞, –≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ SaveLoadTests.swift             # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ WorldMapModelTests.swift        # –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ RegionActionsModelTests.swift   # –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ EventFlowModelTests.swift       # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–±—ã—Ç–∏–π, –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Integration/                        # 4 —Ñ–∞–π–ª–∞, ~75 —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ActIPlaythroughTests.swift      # –ü–æ–ª–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –ê–∫—Ç–∞ I (–ø—Ä–æ–¥–∞–∫—à–Ω-–º–µ—Ç–æ–¥—ã)
‚îÇ   ‚îú‚îÄ‚îÄ SmokeConfigTests.swift          # –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è)
‚îÇ   ‚îú‚îÄ‚îÄ MetricsDistributionTests.swift  # 100 —Å–∏–º—É–ª—è—Ü–∏–π, —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ PlaythroughSimulationTests.swift # E2E –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è
‚îî‚îÄ‚îÄ Engine/                             # 4 —Ñ–∞–π–ª–∞, Engine Contract Tests
    ‚îú‚îÄ‚îÄ EngineContractsTests.swift      # Core engine invariants (INV-001..007)
    ‚îú‚îÄ‚îÄ EventModuleContractsTests.swift # Event module contracts (INV-E01..06)
    ‚îú‚îÄ‚îÄ DataSeparationTests.swift       # Definition/Runtime separation (INV-D01..05)
    ‚îî‚îÄ‚îÄ RegressionPlaythroughTests.swift # Migration safety harness
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | Unit | Integration | Engine | –í—Å–µ–≥–æ |
|-----------|------|-------------|--------|-------|
| –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (TEST-001) | ‚úÖ 11 | - | - | 11 |
| –í—Ä–µ–º—è/–¥–Ω–∏ (TEST-002, 003) | ‚úÖ 12 | ‚úÖ 5 | ‚úÖ 3 | 20 |
| –†–µ–≥–∏–æ–Ω—ã (TEST-004, 005, 006) | ‚úÖ 22 | ‚úÖ 6 | - | 28 |
| –°–æ–±—ã—Ç–∏—è (TEST-007, 008) | ‚úÖ 33 | ‚úÖ 4 | ‚úÖ 8 | 45 |
| –ö–≤–µ—Å—Ç—ã (TEST-009, 010) | ‚úÖ 15 | ‚úÖ 10 | - | 25 |
| –ë–æ–π (TEST-011, 012) | ‚úÖ 40 | - | - | 40 |
| –ö–æ–ª–æ–¥–∞ (TEST-013, 014) | ‚úÖ 40 | ‚úÖ 8 | - | 48 |
| –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (TEST-016) | ‚úÖ 38 | - | ‚úÖ 4 | 42 |
| E2E —Å–∏–º—É–ª—è—Ü–∏—è (TEST-015) | - | ‚úÖ 20 | ‚úÖ 3 | 23 |
| Engine Contracts (NEW) | - | - | ‚úÖ 18 | 18 |
| **–ò–¢–û–ì–û** | **211** | **53** | **36** | **300** |

> **Engine Contract Tests** ‚Äî –Ω–æ–≤—ã–π —Å–ª–æ–π —Ç–µ—Å—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–π –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–≤–∏–∂–∫–∞.
> –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Engine v1.0, —Ç–µ—Å—Ç—ã TEST-002/003 (–≤—Ä–µ–º—è) –∏ TEST-007/008 (—Å–æ–±—ã—Ç–∏—è)
> –¥–æ–ª–∂–Ω—ã —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ `EngineContractsTests` –∏ `EventModuleContractsTests` –∫–∞–∫
> –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤.

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** UI-—Ç–µ—Å—Ç—ã (XCUIApplication) –ø–æ–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç. –ë—ã–≤—à–∏–µ "UI-—Ç–µ—Å—Ç—ã"
> –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã –≤ Model-—Ç–µ—Å—Ç—ã –∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ Unit/, —Ç.–∫. –æ–Ω–∏ —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö,
> –∞ –Ω–µ —Ä–µ–∞–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

### –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —Ñ–∞–π–ª–∞–º

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–µ—Å—Ç–æ–≤ | –°—Ç—Ä–æ–∫ |
|------|----------|--------|-------|
| WorldStateTests.swift | –ú–∏—Ä, —Ä–µ–≥–∏–æ–Ω—ã, –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è | ~30 | ~350 |
| PlayerTests.swift | –ò–≥—Ä–æ–∫, –∫–æ–ª–æ–¥–∞, –ø—Ä–æ–∫–ª—è—Ç–∏—è | ~25 | ~300 |
| EventSystemTests.swift | –°–æ–±—ã—Ç–∏—è, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –≤–µ—Å–∞ | ~35 | ~420 |
| QuestSystemTests.swift | –ö–≤–µ—Å—Ç—ã, –ø—Ä–æ–≥—Ä–µ—Å—Å | ~20 | ~280 |
| CombatModifiersTests.swift | –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –±–æ—è | ~15 | ~200 |
| CombatSystemTests.swift | –£—Ä–æ–Ω, –ø—Ä–æ–∫–ª—è—Ç–∏—è –≤ –±–æ—é | ~35 | ~450 |
| DeckBuildingTests.swift | Draw/discard, –ø–æ–∫—É–ø–∫–∞ | ~40 | ~480 |
| SaveLoadTests.swift | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ | ~35 | ~400 |
| WorldMapModelTests.swift | –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã | ~15 | ~180 |
| RegionActionsModelTests.swift | –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π | ~12 | ~160 |
| EventFlowModelTests.swift | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–±—ã—Ç–∏–π | ~8 | ~120 |
| ActIPlaythroughTests.swift | –ü–æ–ª–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ | ~35 | ~420 |
| SmokeConfigTests.swift | –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | ~8 | ~150 |
| MetricsDistributionTests.swift | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ 100 —Å–∏–º—É–ª—è—Ü–∏–π | ~15 | ~460 |
| PlaythroughSimulationTests.swift | E2E –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è | ~25 | ~700 |
| **Unit/Integration –ò–¢–û–ì–û** | | **~350** | **~5000** |
| | | | |
| **Engine/** (Contract Tests) | | | |
| EngineContractsTests.swift | Core engine invariants | ~8 | ~250 |
| EventModuleContractsTests.swift | Event module contracts | ~10 | ~350 |
| DataSeparationTests.swift | Definition/Runtime separation | ~8 | ~280 |
| RegressionPlaythroughTests.swift | Migration safety harness | ~10 | ~350 |
| **Engine –ò–¢–û–ì–û** | | **~36** | **~1230** |
| **–í–°–ï–ì–û** | | **~386** | **~6230** |

### –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è MetricsDistributionTests

> **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:** MetricsDistributionTests –ø—Ä–æ–≤–µ—Ä—è—é—Ç **—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π** —á–µ—Ä–µ–∑ 100 —Å–∏–º—É–ª—è—Ü–∏–π.

**–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è:**
```
100 —Å–∏–º—É–ª—è—Ü–∏–π —Å SeededRNG ‚Üí —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ ‚Üí pass/fail
```

**–ü—Ä–∏–Ω—Ü–∏–ø—ã –¥–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ–º `SeededRNG` –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏
- –°–æ—Ä—Ç–∏—Ä—É–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –ø–æ `title`/`name` (–ù–ï –ø–æ UUID, —Ç.–∫. UUID –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ)
- –û–¥–∏–Ω seed ‚Üí –≤—Å–µ–≥–¥–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å):**

| –ú–µ—Ç—Ä–∏–∫–∞ | Pass —É—Å–ª–æ–≤–∏–µ | Red flag |
|---------|--------------|----------|
| Tension –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 30-80% | ‚â•30% —Å–∏–º—É–ª—è—Ü–∏–π | >50% —Å tension <30% (—Å–ª–∏—à–∫–æ–º –ª–µ–≥–∫–æ) |
| –í—ã–∂–∏–≤–∞–µ–º–æ—Å—Ç—å | ‚â•40% | <20% (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ —Å–ª–æ–∂–Ω–æ) |
| –ü–æ—Å–µ—â–µ–Ω–æ —Ä–µ–≥–∏–æ–Ω–æ–≤ | –≤ —Å—Ä–µ–¥–Ω–µ–º ‚â•2 | - |
| Health >5 –≤ —Ñ–∏–Ω–∞–ª–µ | ‚â•15% | - |

**–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã (–∑–∞—â–∏—Ç–∞ –æ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π):**

| –¢–µ—Å—Ç | –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç |
|------|---------------|
| `testNoStagnationInvariant()` | –ú–∏—Ä —É—Ö—É–¥—à–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–∞—Å—Å–∏–≤–Ω–æ–π –∏–≥—Ä–µ (10 –¥–Ω–µ–π ‚Üí +6 Tension) |
| `testNoInfiniteInstantEventChain()` | instant —Å–æ–±—ã—Ç–∏—è –Ω–µ —Å–æ–∑–¥–∞—é—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏ |
| `testDeterministicReproducibility()` | –û–¥–∏–Ω seed –¥–∞—ë—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã |

**–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞:**
```swift
func testSurvivalRateOver100Simulations() {
    let results = runSimulations(count: 100)
    let survivors = results.filter { $0.survived }.count
    XCTAssertGreaterThanOrEqual(survivors, 40,
        "–í—ã–∂–∏–≤–∞–µ–º–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å ‚â•40%. –§–∞–∫—Ç–∏—á–µ—Å–∫–∏: \(survivors)%")
}
```

–≠—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –ª–æ–∂–Ω—ã—Ö ¬´–ø–∞–¥–µ–Ω–∏–π¬ª —Ç–µ—Å—Ç–æ–≤ –∏–∑-–∑–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏.

---

## NON-GOALS –ê–ö–¢–ê I

> **–í–∞–∂–Ω–æ –¥–ª—è QA –∏ –ø—Ä–æ–¥—é—Å–µ—Ä–æ–≤:** –≠—Ç–æ –Ω–µ –±–∞–≥–∏, –∞ –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–µ –¥–∏–∑–∞–π–Ω-—Ä–µ—à–µ–Ω–∏—è.

–í —Ä–∞–º–∫–∞—Ö QA –∏ –±–∞–ª–∞–Ω—Å–∞ –ê–∫—Ç–∞ I **–ù–ï —Ç—Ä–µ–±—É–µ—Ç—Å—è:**

| –ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ ¬´—á–∏–Ω–∏—Ç—å¬ª | –ü–æ—á–µ–º—É —ç—Ç–æ —Ñ–∏—á–∞ |
|-----------------------|-----------------|
| –ò–¥–µ–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –±–µ–∑ –ø–æ—Ç–µ—Ä—å | –†–∏—Å–∫ –∏ –∂–µ—Ä—Ç–≤–∞ ‚Äî core loop |
| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –ø–æ–±–æ—á–Ω—ã–µ –∫–≤–µ—Å—Ç—ã | –í—Ä–µ–º—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ, –≤—ã–±–æ—Ä –∏–º–µ–µ—Ç —Ü–µ–Ω—É |
| –°—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –º–∏—Ä | –ú–∏—Ä –¥–µ–≥—Ä–∞–¥–∏—Ä—É–µ—Ç –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –∏–≥—Ä–æ–∫ —É—Å–ø–µ–≤–∞–µ—Ç |
| –î–µ—Ä–∂–∞—Ç—å WorldTension –Ω–∏–∂–µ 30% | –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞—Å—Ç–∏ |
| 0 —Å–º–µ—Ä—Ç–µ–π –∑–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ | 0‚Äì2 —Å–º–µ—Ä—Ç–∏ ‚Äî –¥–æ–ø—É—Å—Ç–∏–º—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω |

**–ó–∞—á–µ–º —ç—Ç–æ—Ç –±–ª–æ–∫:**
- –ß—Ç–æ–±—ã –Ω–æ–≤—ã–µ QA / –ø—Ä–æ–¥—é—Å–µ—Ä—ã –Ω–µ –Ω–∞—á–∏–Ω–∞–ª–∏ ¬´—á–∏–Ω–∏—Ç—å¬ª —Ç–æ, —á—Ç–æ –∑–∞–¥—É–º–∞–Ω–æ –∫–∞–∫ —Ñ–∏—á–∞
- –ß—Ç–æ–±—ã future-you –Ω–µ —Å–ø–æ—Ä–∏–ª —Å–∞–º —Å —Å–æ–±–æ–π —á–µ—Ä–µ–∑ 6 –º–µ—Å—è—Ü–µ–≤
- –ß—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é ¬´–º–∏—Ä –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç, –Ω–æ –Ω–µ –≤–µ–¥—ë—Ç –∑–∞ —Ä—É–∫—É¬ª

---

## –ß–ê–°–¢–¨ 4: –ö–†–ò–¢–ï–†–ò–ò –ü–†–ò–Å–ú–ö–ò

### Definition of Done –¥–ª—è –ê–∫—Ç–∞ I ‚Äî Enforced

> **–≠—Ç–æ enforced DoD** ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç *–∫–∞–∫ –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç* –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å.
> - –§–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π DoD (—á—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å): [GAME_DESIGN_DOCUMENT.md, —Ä–∞–∑–¥–µ–ª 17](./GAME_DESIGN_DOCUMENT.md)
> - –ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–π DoD (–¥–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏): [EXPLORATION_CORE_DESIGN.md, —Ä–∞–∑–¥–µ–ª 18.10](./EXPLORATION_CORE_DESIGN.md#1810-definition-of-done-core-loop)

**–ê–∫—Ç I —Å—á–∏—Ç–∞–µ—Ç—Å—è –≥–æ—Ç–æ–≤—ã–º, –∫–æ–≥–¥–∞:**

1. ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ Critical –ø—Ä–æ—Ö–æ–¥—è—Ç (100%)
2. ‚úÖ 80%+ —Ç–µ—Å—Ç–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ High –ø—Ä–æ—Ö–æ–¥—è—Ç
3. ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤ —Ü–µ–ª–µ–≤—ã—Ö —Ä–∞–º–∫–∞—Ö
4. ‚úÖ –ù–µ—Ç –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –±–∞–≥–æ–≤
5. ‚úÖ Playtest –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª core loop

### –ß–µ–∫–ª–∏—Å—Ç —Ä–µ–ª–∏–∑–∞

- [ ] –í—Å–µ Critical —Ç–µ—Å—Ç—ã: **0 failures**
- [ ] High —Ç–µ—Å—Ç—ã: **‚â§20% failures**
- [ ] –°–∏–º—É–ª—è—Ü–∏—è 100 –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π –≤ –º–µ—Ç—Ä–∏–∫–∞—Ö
- [ ] –†—É—á–Ω–æ–π playtest: 3+ –ø–æ–ª–Ω—ã—Ö –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
- [ ] Code review –ø—Ä–æ–π–¥–µ–Ω
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞

---

## –ß–ê–°–¢–¨ 5: –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –ó–ê–ü–£–°–ö–£

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```bash
# –ß–µ—Ä–µ–∑ Xcode
# Product ‚Üí Test (Cmd+U)

# –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
xcodebuild test \
  -project CardSampleGame.xcodeproj \
  -scheme CardSampleGame \
  -destination 'platform=iOS Simulator,name=iPhone 15'
```

### –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

```bash
# –¢–æ–ª—å–∫–æ Unit —Ç–µ—Å—Ç—ã
xcodebuild test \
  -project CardSampleGame.xcodeproj \
  -scheme CardSampleGame \
  -destination 'platform=iOS Simulator,name=iPhone 15' \
  -only-testing:CardSampleGameTests/Unit

# –¢–æ–ª—å–∫–æ Integration —Ç–µ—Å—Ç—ã
xcodebuild test \
  -project CardSampleGame.xcodeproj \
  -scheme CardSampleGame \
  -destination 'platform=iOS Simulator,name=iPhone 15' \
  -only-testing:CardSampleGameTests/Integration
```

### Swift Package Manager (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

```bash
swift test
```

---

**–ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞**
